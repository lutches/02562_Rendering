<!DOCTYPE html>
<html>
  <head style="overflow-y: auto">
    <a href="./project.html" style="position: absolute; color:white; padding-top: 30px;"> Project</a>
    <title>Report</title>
    <style>
      body {
        background-color: #1e1e1e;
        font-family: "Arial", sans-serif;
        color: #ffffff;
        margin: 0;
        padding: 0;
      }
      h1 {
    text-align: center;
    margin-left: 2%;
}
    </style>
  </head>
  <body style="padding: 30px">
    <h1>Depth of Field Report</h1>

    <h2>Introduction</h2>
    <p>
      Most basic path tracers use a pinhole camera model that keeps everything
      perfectly in focus. But real cameras don’t work that way—they have a depth
      of field. In this project, I added a depth-of-field effect so that only
      objects at a certain focus distance appear sharp, and those in front or
      behind that plane become blurred. This makes the scene look more like a
      photograph rather than a flat, perfectly focused render.
    </p>

    <h2>Method</h2>
    <p>
      Instead of shooting all rays from one point, we sample rays through a
      circular aperture, like a real camera lens. The camera rays are then
      focused at a given distance. Objects at this focus distance look clear,
      while others become blurrier the farther they are from that plane.
      Mathematically, this just means shifting the origin of the rays within the
      lens disk and adjusting directions accordingly.
    </p>

    <h2>Implementation</h2>
    <p>
      I integrated depth of field into a path tracer that supports various
      materials and uses physically based lighting. The code handles sphere and
      triangle intersections, materials like matte, reflective, and transparent,
      and uses a KD-tree for acceleration. The depth-of-field feature adds
      minimal overhead, since it’s just an additional step when generating
      camera rays.
    </p>

    <p>
      I originally planned to add a “glare” effect for bright light sources, but
      it was either too slow or didn’t look right, so I left it out.
    </p>

    <h2>Results & Discussion</h2>
    <p>
      The final images have a nice, photographic look. When you render a scene,
      objects at the chosen focus distance are crisp, and everything else
      gracefully falls out of focus. Even without glare, this simple lens-based
      depth-of-field effect adds realism. It’s a small change to the code, but
      it makes the final image feel more like a photo rather than a
      computer-generated diagram.
    </p>

    <p><strong>Note:</strong> A zip file with the code is included.</p>
  </body>
</html>
